# TrainSafe
TrainSafe — это система, обеспечивающая безопасность данных и предотвращение несанкционированного доступа к базе данных, с поддержкой двухфакторной аутентификации (2FA). Проект реализован с использованием Python, Flask, MySQL, Docker и Kubernetes. Разработка предназначена для развертывания в облачной инфраструктуре Yandex Cloud.


## Описание

### Основные задачи ПО
1.  Игнорирование запросов к БД, исходящих от устройств, которые не принадлежат внутренней корпоративной сети.
2.	Перехват запросов к базе данных — модуль должен перехватывать все SQL-запросы, направляемые от сотрудников заказчика к базе данных MySQL, для их последующей проверки.
3.	Проверка прав доступа — после перехвата запросов происходит идентификация сотрудника и одновременно с этим проверяется, имеет ли он, соответствующие права доступа для выполнения данной операции (чтение, запись, изменение или удаление данных). Проверка основана на политике безопасности, заранее определенной заказчиком, с учетом уровня доступа конкретного пользователя.
4.	Решение о передаче запроса — в случае успешного прохождения авторизации,проверки прав доступа, и 2FA запрос передается в MySQL для исполнения. Если проверка неуспешна, запрос блокируется, а сотрудник получает сообщение об отказе в выполнении операции с указанием причины.
5.	Логирование событий — модуль должен обеспечивать подробное логирование всех действий, связанных с обращениями к базе данных. 


### Создание docker-образов
```bash
docker build -t server_module ./server
docker build -t request_service_module ./request_service
docker build -t two_factor_service_module ./two_factor_service
```
### Применение 
```bash
docker-compose up --build
```